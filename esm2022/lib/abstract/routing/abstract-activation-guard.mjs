import { catchError, switchMap } from 'rxjs/operators';
export class AbstractActivationGuard {
    route;
    state;
    canActivate(route, state) {
        this.route = route;
        this.state = state;
        return this.onActivate()
            .pipe(switchMap((result) => {
            return this.onSuccess(result);
        }), catchError((error) => {
            return this.onError(error);
        }));
    }
    get routeConfiguration() {
        return this.route.data.routeConfiguration;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWJzdHJhY3QtYWN0aXZhdGlvbi1ndWFyZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL21yZC1jb3JlL3NyYy9saWIvYWJzdHJhY3Qvcm91dGluZy9hYnN0cmFjdC1hY3RpdmF0aW9uLWd1YXJkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sRUFBRSxVQUFVLEVBQUUsU0FBUyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFLdkQsTUFBTSxPQUFnQix1QkFBdUI7SUFNakMsS0FBSyxDQUF5QjtJQUM5QixLQUFLLENBQXNCO0lBRTlCLFdBQVcsQ0FDaEIsS0FBNkIsRUFDN0IsS0FBMEI7UUFFMUIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsT0FBTyxJQUFJLENBQUMsVUFBVSxFQUFFO2FBQ3JCLElBQUksQ0FDSCxTQUFTLENBQUMsQ0FBQyxNQUFvQixFQUF1QixFQUFFO1lBQ3RELE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNoQyxDQUFDLENBQUMsRUFDRixVQUFVLENBQUMsQ0FBQyxLQUFLLEVBQXVCLEVBQUU7WUFDeEMsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzdCLENBQUMsQ0FBQyxDQUNILENBQUM7SUFDTixDQUFDO0lBRUQsSUFBYyxrQkFBa0I7UUFDOUIsT0FBUSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQW1DLENBQUMsa0JBQWtCLENBQUM7SUFDNUUsQ0FBQztDQUVGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2FuQWN0aXZhdGUsIEFjdGl2YXRlZFJvdXRlU25hcHNob3QsIFJvdXRlclN0YXRlU25hcHNob3QsIFVybFRyZWUgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IGNhdGNoRXJyb3IsIHN3aXRjaE1hcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcclxuaW1wb3J0IHtBYnN0cmFjdFJvdXRlQ29uZmlndXJhdGlvbn0gZnJvbSBcIi4vYWJzdHJhY3Qtcm91dGUtY29uZmlndXJhdGlvblwiO1xyXG5pbXBvcnQge0lSb3V0aW5nRGF0YX0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZS9yb3V0aW5nL2ktcm91dGluZy1jb25maWd1cmF0aW9uXCI7XHJcblxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0QWN0aXZhdGlvbkd1YXJkPFRTdWNjZXNzVHlwZSwgVFJvdXRlUGFyYW1zPiBpbXBsZW1lbnRzIENhbkFjdGl2YXRlIHtcclxuXHJcbiAgcHJvdGVjdGVkIGFic3RyYWN0IG9uU3VjY2VzcyhyZXN1bHQ6IFRTdWNjZXNzVHlwZSk6IE9ic2VydmFibGU8Ym9vbGVhbj47XHJcbiAgcHJvdGVjdGVkIGFic3RyYWN0IG9uRXJyb3IoZXJyb3I6IGFueSk6IE9ic2VydmFibGU8Ym9vbGVhbj47XHJcbiAgcHJvdGVjdGVkIGFic3RyYWN0IG9uQWN0aXZhdGUoKTogT2JzZXJ2YWJsZTxUU3VjY2Vzc1R5cGU+O1xyXG5cclxuICBwcm90ZWN0ZWQgcm91dGU6IEFjdGl2YXRlZFJvdXRlU25hcHNob3Q7XHJcbiAgcHJvdGVjdGVkIHN0YXRlOiBSb3V0ZXJTdGF0ZVNuYXBzaG90O1xyXG5cclxuICBwdWJsaWMgY2FuQWN0aXZhdGUoXHJcbiAgICByb3V0ZTogQWN0aXZhdGVkUm91dGVTbmFwc2hvdCxcclxuICAgIHN0YXRlOiBSb3V0ZXJTdGF0ZVNuYXBzaG90XHJcbiAgKTogT2JzZXJ2YWJsZTxib29sZWFuIHwgVXJsVHJlZT4gfCBQcm9taXNlPGJvb2xlYW4gfCBVcmxUcmVlPiB8IGJvb2xlYW4gfCBVcmxUcmVlIHtcclxuICAgIHRoaXMucm91dGUgPSByb3V0ZTtcclxuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcclxuICAgIHJldHVybiB0aGlzLm9uQWN0aXZhdGUoKVxyXG4gICAgICAucGlwZShcclxuICAgICAgICBzd2l0Y2hNYXAoKHJlc3VsdDogVFN1Y2Nlc3NUeXBlKTogT2JzZXJ2YWJsZTxib29sZWFuPiA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gdGhpcy5vblN1Y2Nlc3MocmVzdWx0KTtcclxuICAgICAgICB9KSxcclxuICAgICAgICBjYXRjaEVycm9yKChlcnJvcik6IE9ic2VydmFibGU8Ym9vbGVhbj4gPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIHRoaXMub25FcnJvcihlcnJvcik7XHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBnZXQgcm91dGVDb25maWd1cmF0aW9uKCk6IEFic3RyYWN0Um91dGVDb25maWd1cmF0aW9uPFRSb3V0ZVBhcmFtcz4ge1xyXG4gICAgcmV0dXJuICh0aGlzLnJvdXRlLmRhdGEgYXMgSVJvdXRpbmdEYXRhPFRSb3V0ZVBhcmFtcz4pLnJvdXRlQ29uZmlndXJhdGlvbjtcclxuICB9XHJcblxyXG59XHJcbiJdfQ==